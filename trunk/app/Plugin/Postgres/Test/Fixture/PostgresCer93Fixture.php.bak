<?php
	/**
	 * Code source de la classe PostgresCer93Fixture.
	 *
	 * FIXME: faire un modèle/une classe qui servira uniquement aux tests!
	 *
	 * PHP 5.3
	 *
	 * @package Postgres
	 * @subpackage Test.Fixture
	 * @license CeCiLL V2 (http://www.cecill.info/licences/Licence_CeCILL_V2-fr.html)
	 */
	require_once( dirname( __FILE__ ).DS.'postgres_autovalidate_fixture.php' );

	/**
	 * Classe PostgresCer93Fixture.
	 *
	 * @package Postgres
	 * @subpackage Test.Fixture
	 */
	class PostgresCer93Fixture extends PostgresAutovalidateFixture
	{
		/**
		 * On importe la définition de la table, pas les enregistrements.
		 *
		 * @var array
		 */
		public $import = array(
			'model' => 'Cer93',
			'records' => false
		);

		/**
		 * Définition des enregistrements.
		 *
		 * @var array
		 */
		public $records = array();

		/**
		 * Liste des noms de contraintes CHECK pour la table, avec la mise en
		 * contrainte en base de données.
		 *
		 * Les fonctions retournent un boolean:
		 *	- cakephp_validate_in_list (text, text[])
		 *	- cakephp_validate_in_list (integer, integer[])
		 *	- cakephp_validate_inclusive_range (double precision, double precision, double precision)
		 *	- cakephp_validate_range (double precision, double precision, double precision)
		 *
		 * @var array
		 */
		public $constraints = array(
			'cers93_cmu_in_list_chk' => "( cakephp_validate_in_list( cmu, ARRAY['oui', 'non', 'encours'] ) )",
			'cers93_dureehebdo_inclusive_range_chk' => "( cakephp_validate_inclusive_range( dureehebdo, 0, 39 ) )",
			'cers93_dureehebdo_range_chk' => "( cakephp_validate_range( dureehebdo, -1, 40 ) )",
		);
	}
?>